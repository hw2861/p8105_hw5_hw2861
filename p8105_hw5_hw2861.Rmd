---
title: "p8105_hw5_hw2861"
author: "Hongmiao Wang"
date: "2022-11-12"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE)
```

## Problem 2
### Describe the raw data
```{r homicides_raw}
homicide_raw_df = 
  read_csv("./Data/homicide-data.csv")
```

This raw dataset has `r nrow(homicide_raw_df)` observations and `r ncol(homicide_raw_df)` variables. It collected data on `r nrow(homicide_raw_df)` criminal homicides over the past decade in 50 of the largest American cities. The data included the location of the killing, whether an arrest was made and, in most cases, basic demographic information about each victim.

```{r homicides}
homicide_df = 
  read_csv("./Data/homicide-data.csv") %>% 
  mutate(
    city_state = str_c(city, state, sep = ","),
    city_state = recode(city_state,"Tulsa,AL" = "Tulsa,OK"),
    status = case_when(
      disposition == "Closed without arrest" | disposition == "Open/No arrest"   ~ "unsolved",
      TRUE ~ "solved"))
```

### Summarize within cities: to obtain the total number of homicides and the number of unsolved homicides

**The total number of homicides and the number of unsolved homicides in each cities.** 
```{r homicides1}
homicides_df_number= 
  homicide_df %>%
  select(city_state,status)%>%
  group_by(city_state)%>%
  summarize(
    total_homicides=n(),
    unsolved_homicides=sum(status=="unsolved")) 

    knitr::kable(homicides_df_number)
```
